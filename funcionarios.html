<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <!-- O CSS do usuário foi atualizado para incluir os estilos de validação -->
    <link rel="stylesheet" href="styles/funcionarios.css" />
    <title>Funcionários - PETTZY</title>
    <link rel="icon" type="image/png" href="img/paw2.png" />
  </head>
  <body>
    <header>
      <nav id="navbar">
        <div id="nav_logo">
          <i class="fa-solid fa-otter"></i>
          <span>PETTZY</span>
        </div>

        <ul id="nav_list">
          <li class="nav-item"><a href="dashboard.html">Dashboard</a></li>
          <li class="nav-item"><a href="funcionarios.html">Pets</a></li>
          <li class="nav-item active">
            <a href="funcionarios.html">Funcionários</a>
          </li>
          <li class="nav-item"><a href="agenda.html">Agenda</a></li>
        </ul>

        <a class="btn-default" href="configuracoes.html">
          Sua conta
          <i class="fa-solid fa-user"></i>
        </a>

        <button id="mobile_btn">
          <i class="fa-solid fa-bars"></i>
        </button>
      </nav>

      <div id="mobile_menu">
        <ul id="mobile_nav_list">
          <li class="nav-item"><a href="dashboard.html">Dashboard</a></li>
          <li class="nav-item"><a href="funcionarios.html">Pets</a></li>
          <li class="nav-item active">
            <a href="funcionarios.html">Funcionários</a>
          </li>
          <li class="nav-item"><a href="agenda.html">Agenda</a></li>
        </ul>

        <button class="btn-default" href="configuracoes.html">
          Sua conta

          <i class="fa-solid fa-user"></i>
        </button>
      </div>
    </header>

    <main id="content">
      <section id="funcionarios-section">
        <div class="funcionarios-container">
          <div class="funcionarios-header">
            <h2>Funcionários</h2>
            <p>Registre os dados dos seus funcionários</p>
          </div>

          <div class="funcionarios-controls">
            <div class="status-tabs">
              <button class="status-tab active" data-status="all">Ativo</button>
              <button class="status-tab" data-status="entrada">Entrada</button>
              <button class="status-tab" data-status="saida">Saída</button>
              <button class="status-tab" data-status="desligado">
                Desligado
              </button>
            </div>

            <div class="search-filter-container">
              <div class="search-box">
                <i class="fa-solid fa-magnifying-glass"></i>
                <input
                  type="text"
                  id="searchInput"
                  placeholder="Pesquise pelo nome, função..."
                />
              </div>

              <button class="btn-novo-funcionario">
                <i class="fa-solid fa-plus"></i>
                Novo Funcionário
              </button>
            </div>
          </div>

          <div class="funcionarios-table-container">
            <table class="funcionarios-table">
              <thead>
                <tr>
                  <th>Nome</th>
                  <th>Profissão</th>
                  <th>Vínculo</th>
                  <th>Entrada</th>
                  <th>Saída</th>
                  <th>Contato</th>
                  <th>Ações</th>
                </tr>
              </thead>
              <tbody id="funcionariosTableBody"></tbody>
            </table>
          </div>
        </div>
      </section>
    </main>

    <!-- Modal para adicionar novo funcionário -->
    <div id="addFuncionarioModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title">Adicionar Novo funcionário</h2>
          <button class="modal-close" id="closeAddModalBtn">
            <i class="fa-solid fa-times"></i>
          </button>
        </div>

        <div class="modal-body">
          <form id="addFuncionarioForm">
            <div class="form-group">
              <label for="funcionarioName">Nome:</label>
              <input type="text" id="funcionarioName" name="nome" required />
            </div>

            <div class="form-group">
              <label for="funcionarioCargo">Profissão:</label>
              <input type="text" id="funcionarioCargo" name="cargo" required />
            </div>

            <div class="form-group">
              <label for="funcionarioEntrada">Entrada:</label>
              <input
                type="text"
                id="funcionarioEntrada"
                name="Entrada"
                placeholder="DD/MM/AAAA"
                maxlength="10"
              />
            </div>

            <div class="form-group">
              <label for="funcionarioSaida">Saída:</label>
              <input
                type="text"
                id="funcionarioSaida"
                name="Saida"
                placeholder="DD/MM/AAAA"
                maxlength="10"
              />
            </div>

            <div class="form-group">
              <label for="funcionarioEmail">Email:</label>
              <input
                type="email"
                id="funcionarioEmail"
                name="email"
                placeholder="exemplo@email.com"
              />
            </div>

            <div class="form-group">
              <label for="funcionarioVinculo">Vínculo:</label>
              <select id="funcionarioVinculo" name="vinculo" required>
                <option value="Ativo">Ativo</option>
                <option value="Inativo">Inativo</option>
              </select>
            </div>

            <div class="form-group">
              <label for="cor">Funcionário cor:</label>
              <input
                type="color"
                id="funcionarioCor"
                name="cor"
                value="#90caf9"
              />
            </div>

            <!-- Ações da modal -->
            <div class="modal-actions">
              <button type="submit" class="modal-btn modal-btn-primary">
                <i class="fa-solid fa-save"></i> Salvar Funcionário
              </button>
              <button
                type="button"
                class="modal-btn modal-btn-secondary"
                id="cancelAddModalBtn"
              >
                Cancelar
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Modal para editar funcionário (NOVO) -->
    <div id="editFuncionarioModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title">Editar Funcionário</h2>
          <button class="modal-close" id="closeEditModalBtn">
            <i class="fa-solid fa-times"></i>
          </button>
        </div>

        <div class="modal-body">
          <form id="editFuncionarioForm">
            <input type="hidden" id="editFuncionarioId" />

            <div class="form-group">
              <label for="editFuncionarioName">Nome:</label>
              <input
                type="text"
                id="editFuncionarioName"
                name="nome"
                required
              />
            </div>

            <div class="form-group">
              <label for="editFuncionarioCargo">Profissão:</label>
              <input
                type="text"
                id="editFuncionarioCargo"
                name="cargo"
                required
              />
            </div>

            <div class="form-group">
              <label for="editFuncionarioEntrada">Entrada:</label>
              <input
                type="text"
                id="editFuncionarioEntrada"
                name="Entrada"
                placeholder="DD/MM/AAAA"
                maxlength="10"
              />
            </div>

            <div class="form-group">
              <label for="editFuncionarioSaida">Saída:</label>
              <input
                type="text"
                id="editFuncionarioSaida"
                name="Saida"
                placeholder="DD/MM/AAAA"
                maxlength="10"
              />
            </div>

            <div class="form-group">
              <label for="editFuncionarioEmail">Email:</label>
              <input
                type="email"
                id="editFuncionarioEmail"
                name="email"
                placeholder="exemplo@email.com"
              />
            </div>

            <div class="form-group">
              <label for="editFuncionarioVinculo">Vínculo:</label>
              <select id="editFuncionarioVinculo" name="vinculo" required>
                <option value="Ativo">Ativo</option>
                <option value="Inativo">Inativo</option>
              </select>
            </div>

            <div class="form-group">
              <label for="editFuncionarioCor">Funcionário cor:</label>
              <input
                type="color"
                id="editFuncionarioCor"
                name="cor"
                value="#90caf9"
              />
            </div>

            <!-- Ações da modal -->
            <div class="modal-actions">
              <button type="submit" class="modal-btn modal-btn-primary">
                <i class="fa-solid fa-save"></i> Atualizar Funcionário
              </button>
              <button
                type="button"
                class="modal-btn modal-btn-secondary"
                id="cancelEditModalBtn"
              >
                Cancelar
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="funcionarios.js"></script>
    <script src="funcionariosLoad.js"></script>
  </body>
</html>
