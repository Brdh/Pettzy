<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="styles/pets.css" />
    <title>Pets - PETTZY</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>
  </head>
  <body>
    <header>
      <nav id="navbar">
        <div id="nav_logo">
          <i class="fa-solid fa-otter"></i>
          <span>PETTZY</span>
        </div>

        <ul id="nav_list">
          <li class="nav-item"><a href="dashboard.html">Dashboard</a></li>
          <li class="nav-item active"><a href="pets.html">Pets</a></li>
          <li class="nav-item"><a href="funcionarios.html">Funcionários</a></li>
          <li class="nav-item"><a href="agenda.html">Agenda</a></li>
        </ul>

        <a class="btn-default" href="configuracoes.html">
          Sua conta
          <i class="fa-solid fa-user"></i>
        </a>

        <button id="mobile_btn">
          <i class="fa-solid fa-bars"></i>
        </button>
      </nav>

      <div id="mobile_menu">
        <ul id="mobile_nav_list">
          <li class="nav-item"><a href="dashboard.html">Dashboard</a></li>
          <li class="nav-item"><a href="pets.html">Pets</a></li>
          <li class="nav-item active">
            <a href="funcionarios.html">Funcionários</a>
          </li>
          <li class="nav-item"><a href="agenda.html">Agenda</a></li>
        </ul>

        <button class="btn-default" href="configuracoes.html">
          Sua conta

          <i class="fa-solid fa-user"></i>
        </button>
      </div>
    </header>

    <main id="content">
      <section id="pets-section">
        <div id="pets-header">
          <h2>Pets</h2>
          <p>Registre os detalhes dos seus pets!</p>
        </div>

        <div class="status-tabs-container">
          <button class="status-tab active" data-status="all">Todos</button>
          <button class="status-tab" data-status="red">Urgente</button>
          <button class="status-tab" data-status="yellow">Atenção</button>
          <button class="status-tab" data-status="green">Saudável</button>
        </div>

        <div class="search-filter-container">
          <div class="search-box">
            <i class="fa-solid fa-magnifying-glass"></i>
            <input
              type="text"
              id="searchInput"
              placeholder="Pesquise pelo nome, função..."
            />
          </div>

          <button class="btn-novo-pet" id="addPetBtn2">
            <i class="fa-solid fa-plus"></i>
            Novo Pet
          </button>
        </div>

        <div id="pets-container">
          <div class="pet-card status-red" data-status="red">
            <div class="pet-card-header-id">
              <span class="pet-id">ID: #001</span>
            </div>
            <div class="pet-card-top">
              <img src="img/petsImages/fred.png" alt="Fred" class="pet-image" />
              <div class="pet-info">
                <h3>Fred</h3>
                <p>Coelho</p>
              </div>
              <span class="status-badge red">Urgente</span>
            </div>
            <div class="pet-card-bottom">
              <span class="pet-detail">1 ano</span>
              <span class="pet-detail">45 kg</span>
            </div>
          </div>

          <div class="pet-card status-yellow" data-status="yellow">
            <div class="pet-card-header-id">
              <span class="pet-id">ID: #002</span>
            </div>
            <div class="pet-card-top">
              <img
                src="img/petsImages/valentina.jpg"
                alt="Valentina"
                class="pet-image"
              />
              <div class="pet-info">
                <h3>Valentina</h3>
                <p>Gato</p>
              </div>
              <span class="status-badge yellow">Atenção</span>
            </div>
            <div class="pet-card-bottom">
              <span class="pet-detail">3 anos</span>
              <span class="pet-detail">4.5 kg</span>
            </div>
          </div>

          <div class="pet-card status-green" data-status="green">
            <div class="pet-card-header-id">
              <span class="pet-id">ID: #003</span>
            </div>
            <div class="pet-card-top">
              <img
                src="img/petsImages/sebastiao.jpg"
                alt="Alfredo"
                class="pet-image"
              />
              <div class="pet-info">
                <h3>Alfredo</h3>
                <p>Cachorro</p>
              </div>
              <span class="status-badge green">Saudável</span>
            </div>
            <div class="pet-card-bottom">
              <span class="pet-detail">2 anos</span>
              <span class="pet-detail">25 kg</span>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Modal para mostrar dados de pets -->
    <div id="petModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title">Detalhes do Pet</h2>
          <button class="modal-close" id="closeModalBtn">
            <i class="fa-solid fa-times"></i>
          </button>
        </div>

        <div class="modal-body">
          <div class="pet-detail-hero">
            <img id="modalPetImage" src="" alt="Pet" class="pet-detail-image" />
            <div class="pet-detail-info">
              <span class="modal-pet-id" id="modalPetId">ID: #000</span>
              <h3 class="pet-detail-name" id="modalPetName">Nome do Pet</h3>
              <p class="pet-detail-type" id="modalPetType">Tipo de Animal</p>
              <span class="pet-detail-status" id="modalPetStatus">Status</span>
            </div>
          </div>

          <div class="pet-detail-description" id="modalPetDescription">
            <p id="modalPetComportamento">Comportamento</p>
          </div>

          <div class="modal-section">
            <h4 class="modal-section-title">
              <i class="fa-solid fa-info-circle"></i>
              Informações
            </h4>
            <div class="info-grid" id="modalPetInfo"></div>
          </div>

          <div class="modal-section">
            <h4 class="modal-section-title">
              <i class="fa-solid fa-heart"></i>
              Atenção à Saúde
            </h4>
            <div class="info-grid" id="modalPetHealth"></div>
          </div>

          <div class="modal-section">
            <h4 class="modal-section-title">
              <i class="fa-solid fa-notes-medical"></i>
            </h4>
            <ul class="notes-list" id="modalPetNotes"></ul>
          </div>

          <div class="modal-section">
            <h4 class="modal-section-title">
              <i class="fa-solid fa-user"></i>
              Tutor Responsável
            </h4>
            <div class="info-grid">
              <div class="info-item">
                <div class="info-label">Nome</div>
                <div class="info-value" id="modalTutorName">-</div>
              </div>
              <div class="info-item">
                <div class="info-label">Telefone</div>
                <div class="info-value" id="modalTutorPhone">-</div>
              </div>
            </div>
          </div>
        </div>

        <div class="modal-actions">
          <button class="modal-btn modal-btn-primary" id="editPetBtn">
            <i class="fa-solid fa-edit"></i> Editar
          </button>
          <button
            class="modal-btn modal-btn-secondary"
            id="closeModalBtnFooter"
          >
            Fechar
          </button>
        </div>
      </div>
    </div>

    <!-- Modal para adicionar pets -->
    <div id="addPetModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 class="modal-title">Adicionar Novo Pet</h2>
          <button class="modal-close" id="closeAddModalBtn">
            <i class="fa-solid fa-times"></i>
          </button>
        </div>

        <div class="modal-body">
          <form id="addPetForm">
            <!-- Dados principais -->
            <div class="form-group">
              <label for="petImage">URL da Imagem:</label>
              <input
                type="text"
                id="petImage"
                name="foto"
                placeholder="https://..."
              />
            </div>

            <div class="form-group">
              <label for="petName">Nome:</label>
              <input type="text" id="petName" name="nome" required />
            </div>

            <div class="form-group">
              <label for="petSpecies">Espécie:</label>
              <input type="text" id="petSpecies" name="especie" required />
            </div>

            <div class="form-group">
              <label for="petStatus">Status de Saúde:</label>
              <select id="petStatus" name="status" required>
                <option value="green">Saudável</option>
                <option value="yellow">Atenção</option>
                <option value="red">Urgente</option>
              </select>
            </div>

            <!-- Comportamento -->
            <div class="form-group">
              <label for="petComportamento">Comportamento:</label>
              <input type="text" id="petComportamento" name="comportamento" />
            </div>

            <!-- Informações -->
            <div class="form-group">
              <label for="petSpecies">Idade:</label>
              <input type="text" id="petIdade" name="idade" />
            </div>

            <div class="form-group">
              <label for="petPeso">Peso:</label>
              <input type="text" id="petPeso" name="peso" />
            </div>

            <div class="form-group">
              <label for="petRaca">Raça:</label>
              <input type="text" id="petRaca" name="raca" />
            </div>

            <!-- Atenção à Saúde -->
            <div class="form-group">
              <label for="petUltimaConsulta">Última consulta:</label>
              <input type="text" id="petUltimaConsulta" name="ultimaConsulta" />
            </div>

            <div class="form-group">
              <label for="petUltimaVacina">Última Vacinação:</label>
              <input type="text" id="petUltimaVacina" name="ultimaVacina" />
            </div>

            <div class="form-group">
              <label for="petMedicacoes">Medicações:</label>
              <input type="text" id="petMedicacoes" name="medicacoes" />
            </div>

            <!-- Tutor Responsável -->
            <div class="form-group">
              <label for="petOwnerName">Tutor:</label>
              <input type="text" id="petOwnerName" name="Owner" />
            </div>

            <div class="form-group">
              <label for="petOwnerTelefone">Telefone:</label>
              <input type="text" id="petOwnerTelefone" name="telefone" />
            </div>

            <div class="modal-actions">
              <button type="submit" class="modal-btn modal-btn-primary">
                <i class="fa-solid fa-save"></i> Salvar Pet
              </button>
              <button
                type="button"
                class="modal-btn modal-btn-secondary"
                id="cancelAddModalBtn"
              >
                Cancelar
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Modal para editar pets -->
    <div id="formModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="modalTitle">Editar Pet</h2>
          <button class="modal-close" onclick="closeFormModal()">
            <i class="fa-solid fa-times"></i>
          </button>
        </div>

        <div class="modal-body">
          <form id="editPetForm" autocomplete="off">
            <input type="hidden" id="editPetId" />

            <!-- Dados principais -->
            <div class="form-group">
              <label for="editImage">URL da Imagem:</label>
              <input
                type="text"
                id="editImage"
                name="foto"
                placeholder="https://..."
              />
            </div>

            <div class="form-group">
              <label for="editName">Nome:</label>
              <input type="text" id="editName" name="nome" required />
            </div>

            <div class="form-group">
              <label for="editType">Espécie:</label>
              <input type="text" id="editType" name="especie" required />
            </div>

            <div class="form-group">
              <label for="editStatus">Status:</label>
              <select id="editStatus" name="status">
                <option value="green">Saudável</option>
                <option value="yellow">Atenção</option>
                <option value="red">Urgente</option>
              </select>
            </div>

            <!-- Comportamento -->
            <div class="form-group">
              <label for="editComportamento">Comportamento:</label>
              <input type="text" id="editCompotamento" name="comportamento" />
            </div>

            <!-- Informações -->
            <div class="form-group">
              <label for="editAge">Idade:</label>
              <input type="text" id="editAge" name="idade" />
            </div>

            <div class="form-group">
              <label for="editPeso">Peso:</label>
              <input type="text" id="editPeso" name="peso" />
            </div>

            <div class="form-group">
              <label for="editRaca">Raça:</label>
              <input type="text" id="editRaca" name="raca" />
            </div>

            <!-- Atenção à Saúde -->
            <!--    Status de saúde    -->
            <div class="form-group">
              <label for="editUltimaConsulta">Última consulta:</label>
              <input
                type="text"
                id="editUltimaConsulta"
                name="ultimaConsulta"
              />
            </div>

            <div class="form-group">
              <label for="editultimaVacina">Última Vacinação:</label>
              <input type="text" id="editultimaVacina" name="ultimaVacina" />
            </div>

            <div class="form-group">
              <label for="editMedicacoes">Medicações:</label>
              <input type="text" id="editMedicacoes" name="medicacoes" />
            </div>

            <!-- Tutor Responsável -->
            <div class="form-group">
              <label for="editOwnerName">Tutor:</label>
              <input type="text" id="editOwnerName" name="Owner" />
            </div>

            <div class="form-group">
              <label for="editOwnerTelefone">Telefone:</label>
              <input type="text" id="editOwnerTelefone" name="telefone" />
            </div>

            <!-- Ações da modal -->
            <div class="modal-actions">
              <button
                type="button"
                class="modal-btn modal-btn-danger"
                id="deletePetBtn"
              >
                <i class="fa-solid fa-trash"></i> Excluir Pet
              </button>
              <button type="submit" class="modal-btn modal-btn-primary">
                <i class="fa-solid fa-save"></i> Salvar Alterações
              </button>
              <button
                type="button"
                class="modal-btn modal-btn-secondary"
                id="cancelEditModalBtn"
              >
                Cancelar
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <script src="petsLoad.js"></script>
    <script src="pets.js"></script>

    <script>
      $(document).ready(function () {
        // Máscara para Telefone (Celular com 9º dígito e DDD)
        var SPMaskBehavior = function (val) {
            return val.replace(/\D/g, "").length === 11
              ? "(00) 00000-0000"
              : "(00) 0000-00009";
          },
          spOptions = {
            onKeyPress: function (val, e, field, options) {
              field.mask(SPMaskBehavior.apply({}, arguments), options);
            },
          };

        // Aplica a máscara de telefone nos campos de adicionar e editar
        $("#petOwnerTelefone").mask(SPMaskBehavior, spOptions);
        $("#editOwnerTelefone").mask(SPMaskBehavior, spOptions);

        // Máscara para Data (Última Consulta)
        $("#petUltimaConsulta").mask("00/00/0000");
        $("#editUltimaConsulta").mask("00/00/0000");
        // Máscara para Data (Última Vacinação)
        $("#petUltimaVacina").mask("00/00/0000");
        $("#editultimaVacina").mask("00/00/0000");

        // Máscara para Peso (Ex: 123,45)
        // Usando a máscara de dinheiro com separador de milhar vazio e decimal como vírgula
        $("#petPeso").mask("000,00", { reverse: true });
        $("#editPeso").mask("000,00", { reverse: true });

        // Máscara para Idade (Apenas números)
        $("#petIdade").mask("00");
        $("#editAge").mask("00");
      });
    </script>
  </body>
</html>
